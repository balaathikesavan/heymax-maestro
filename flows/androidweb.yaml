appId: "${env.platform == 'android' ? 'com.max.heymax' : 'com.android.chrome'}"
---
# ğŸŒ If Web, open HeyMax website in Chrome
- evaluateScript:
    script: |
      return process.env.platform === 'web';
    saveAs: "isWeb"

- runFlow:
    when: "${isWeb}"
    commands:
      - launchApp
      - extendedWaitUntil:
          visible: "Search or type URL"
      - tapOn: "Search or type URL"
      - inputText: "https://heymax.ai"
      - tapOn: "Go"
      - extendedWaitUntil:
          visible: "Continue in Chrome"
      - tapOn: "Continue in Chrome"

# ğŸ“± If Android, launch HeyMax App
- runFlow:
    when: "${!isWeb}"
    commands:
      - launchApp

# ğŸ“Œ Handle Login Differences for Web & Android
- runFlow:
    when: "${!isWeb}"  # Android
    commands:
      - extendedWaitUntil:
          visible: "Login"
      - tapOn: "Login"

- runFlow:
    when: "${isWeb}"  # Web
    commands:
      - extendedWaitUntil:
          visible: "â‹®"   # 3-dot menu
      - tapOn: "â‹®"
      - extendedWaitUntil:
          visible: "Login"
      - tapOn: "Login"

# ğŸ“Œ Enter Login Details (Common for Both Platforms)
- extendedWaitUntil:
    visible: "Email"
- tapOn: "Email"
- inputText: "bala02aadhikesavan@gmail.com"
- tapOn: "Password"
- inputText: "YourSecurePassword"
- tapOn: "Sign In"

# ğŸ“Œ Continue with Common Test Steps
- extendedWaitUntil:
    visible: "Bar"
- tapOn: "Bar"
